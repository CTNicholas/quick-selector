{"version":3,"file":"qs.modern.js","sources":["../src/index.js"],"sourcesContent":["const addTemplate = createTemplate()\r\n\r\nmodule.exports = function (literals, ...substitutions) {\r\n  const query = createQuery(literals, substitutions)\r\n  const element = document.querySelector(query)\r\n  if (element === null) return null\r\n  return addTemplate(element)\r\n}\r\n\r\nfunction createTemplate () {\r\n  const events = getAllEvents()\r\n  return function (element) {\r\n    events.map(event => {\r\n      element[event] = function (func) {\r\n        element.addEventListener(event, func)\r\n        return element\r\n      }\r\n    })\r\n    return element\r\n  }\r\n}\r\n\r\nfunction getAllEvents () {\r\n  return Object.getOwnPropertyNames(document).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(Object.getPrototypeOf(document)))).filter(function(i) {\r\n    return !i.indexOf('on') && (document[i] == null || typeof document[i] == 'function')\r\n  }).map(val => val.substr(2))\r\n}\r\n\r\nfunction createQuery (literals, substitutions) {\r\n  if (Array.isArray(literals) && Array.isArray(substitutions)) {\r\n    return literals.map((literal, index) => {\r\n      return (literal || '') + (substitutions[index] || '')\r\n    }).join() || null\r\n  } else if (typeof literals === 'string' || literals instanceof String) {\r\n    return literals\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n"],"names":["addTemplate","events","Object","getOwnPropertyNames","document","concat","getPrototypeOf","filter","i","indexOf","map","val","substr","element","event","func","addEventListener","createTemplate","module","exports","literals","substitutions","query","Array","isArray","literal","index","join","String","createQuery","querySelector"],"mappings":"AAAA,MAAMA,EASN,WACE,MAAMC,EAaCC,OAAOC,oBAAoBC,UAAUC,OAAOH,OAAOC,oBAAoBD,OAAOI,eAAeJ,OAAOI,eAAeF,aAAaG,OAAO,SAASC,GACrJ,OAAQA,EAAEC,QAAQ,QAAyB,MAAfL,SAASI,IAAoC,mBAAfJ,SAASI,MAClEE,IAAIC,GAAOA,EAAIC,OAAO,IAdzB,gBAAiBC,GAOf,OANAZ,EAAOS,IAAII,IACTD,EAAQC,GAAS,SAAUC,GAEzB,OADAF,EAAQG,iBAAiBF,EAAOC,GACzBF,KAGJA,GAlBSI,GAEpBC,OAAOC,QAAU,SAAUC,KAAaC,GACtC,MAAMC,EAyBR,SAAsBF,EAAUC,GAC9B,OAAIE,MAAMC,QAAQJ,IAAaG,MAAMC,QAAQH,GACpCD,EAASV,IAAI,CAACe,EAASC,KACpBD,GAAW,KAAOJ,EAAcK,IAAU,KACjDC,QAAU,KACgB,iBAAbP,GAAyBA,aAAoBQ,OACtDR,OA/BKS,CAAYT,EAAUC,GAC9BR,EAAUT,SAAS0B,cAAcR,GACvC,OAAgB,OAAZT,OACGb,EAAYa"}